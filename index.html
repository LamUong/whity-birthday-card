<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday, My Love! üêæ</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for the Inter font and smooth transitions */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fce4ec; /* Light pink background */
        }
        .carousel-slide {
            transition: opacity 1.0s ease-in-out; /* Increased transition duration for smoother fade */
            opacity: 0;
            position: absolute; /* All slides are absolutely positioned to prevent layout jumps */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            text-align: center;
            padding: 1.5rem; /* Equivalent to p-6 */
        }
        .carousel-slide.active {
            opacity: 1;
            z-index: 10; /* Ensure active slide is on top when fading */
        }
        /* Style for dot indicators */
        .dot {
            height: 12px; /* h-3 */
            width: 12px; /* w-3 */
            background-color: #f8bbd0; /* Light pink dot */
            border-radius: 50%; /* rounded-full */
            display: inline-block;
            margin: 0 0.5rem; /* mx-2 */
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .dot.active {
            background-color: #e91e63; /* Darker pink for active dot */
        }
        /* Hidden by default until correct code is entered */
        .hidden {
            display: none;
        }
        /* Ensure navigation buttons are on top of slides */
        #prevBtn, #nextBtn {
            z-index: 20; /* Higher than carousel-slide.active's z-index */
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4 sm:p-6 md:p-8">

    <!-- Code Input Form -->
    <div id="codeInputContainer" class="flex flex-col items-center justify-center bg-white p-8 rounded-2xl shadow-xl max-w-sm w-full z-20">
        <h2 class="text-2xl font-bold text-gray-800 mb-6">Enter Secret Code</h2>
        <input
            type="password"
            id="secretCodeInput"
            placeholder="Shhh... it's a secret!"
            class="w-full p-3 mb-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 text-center text-lg"
        >
        <button
            id="submitCodeBtn"
            class="w-full bg-pink-500 text-white p-3 rounded-lg font-semibold hover:bg-pink-600 transition-colors duration-300 shadow-md focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-opacity-75"
        >
            Unlock Card
        </button>
        <p id="errorMessage" class="text-red-500 mt-4 hidden">Incorrect code. Please try again.</p>
    </div>

    <!-- Carousel Container - Hidden by default -->
    <div id="carouselContainer" class="relative w-full max-w-2xl h-[550px] sm:h-[600px] md:h-[650px] bg-white shadow-xl rounded-2xl overflow-hidden hidden">
        <!-- Carousel Inner -->
        <div id="carousel" class="relative w-full h-full flex items-center justify-center">

            <!-- Slide 1: Cover Page -->
            <div class="carousel-slide p-6 md:p-10 flex-col justify-center items-center">
                <h1 class="text-4xl sm:text-5xl md:text-6xl font-extrabold text-pink-700 mb-4 animate-bounce">
                    Happy Birthday!
                </h1>
                <img
                    src="sample.jpg"
                    onerror="this.onerror=null;this.src='https://placehold.co/400x250/F8BBD0/880E4F?text=Placeholder+Image';"
                    alt="Cute cat with a birthday hat"
                    class="rounded-xl shadow-lg mb-6 w-full max-w-xs sm:max-w-sm md:max-w-md h-auto object-cover"
                >
                <p class="text-xl sm:text-2xl text-gray-700 font-semibold">
                    To my wonderful whity! ‚ù§Ô∏è
                </p>
            </div>

            <!-- Slide 2: Message Page -->
            <div class="carousel-slide p-6 md:p-10 flex-col justify-center items-center">
                <h2 class="text-3xl sm:text-4xl font-bold text-purple-700 mb-4">
                    Yeu whity lam,
                </h2>
                <p class="text-lg sm:text-xl text-gray-800 leading-relaxed mb-6">
                    Whity co mot sinh nhat vui ve voi mama o Vietnam. An uong va nghi ngoi khoe manh.
                    Mong hotel ngay cang phat trien tot va whity it viec hon.
                    Blacky co gang hoc duoc lai xe de dua whity voi tao di choi sau nay.
                    Cam on whity luon luon o ben canh blackie va dong vien blackie nhung luc met moi.
                </p>
                <p class="text-xl sm:text-2xl text-purple-600 font-bold mt-6">
                    Love, blacky üêæ
                </p>
            </div>

            <!-- Navigation Buttons -->
            <button id="prevBtn" class="absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white bg-opacity-75 rounded-full shadow-md hover:bg-opacity-100 transition-all duration-300 text-gray-700 hover:text-pink-600 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-opacity-75">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
            </button>
            <button id="nextBtn" class="absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white bg-opacity-75 rounded-full shadow-md hover:bg-opacity-100 transition-all duration-300 text-gray-700 hover:text-pink-600 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-opacity-75">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </button>

            <!-- Dot Indicators -->
            <div id="dot-indicators" class="absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2">
                <span class="dot active" data-slide-index="0"></span>
                <span class="dot" data-slide-index="1"></span>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const codeInputContainer = document.getElementById('codeInputContainer');
        const secretCodeInput = document.getElementById('secretCodeInput');
        const submitCodeBtn = document.getElementById('submitCodeBtn');
        const errorMessage = document.getElementById('errorMessage');
        const carouselContainer = document.getElementById('carouselContainer');
        const carouselSlides = document.querySelectorAll('.carousel-slide');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const dotIndicators = document.getElementById('dot-indicators');

        // Secret code for access (case-insensitive and trimmed)
        const SECRET_CODE = 'yeuwhity'; // <--- YOU CAN CHANGE THIS SECRET CODE

        // Carousel state variables
        let currentSlide = 0;
        let slideInterval;

        // Function to show a specific slide
        function showSlide(index) {
            carouselSlides.forEach((slide) => {
                slide.classList.remove('active');
            });
            Array.from(dotIndicators.children).forEach((dot, i) => {
                dot.classList.remove('active');
                if (i === index) {
                    dot.classList.add('active');
                }
            });
            carouselSlides[index].classList.add('active');
            currentSlide = index;
        }

        // Function to go to the next slide
        function nextSlide() {
            currentSlide = (currentSlide + 1) % carouselSlides.length;
            showSlide(currentSlide);
        }

        // Function to go to the previous slide
        function prevSlide() {
            currentSlide = (currentSlide - 1 + carouselSlides.length) % carouselSlides.length;
            showSlide(currentSlide);
        }

        // Auto-play functionality
        function startAutoPlay() {
            // Clear any existing interval to prevent multiple intervals running
            clearInterval(slideInterval);
            slideInterval = setInterval(nextSlide, 6000000); // Change slide every 15 seconds
        }

        // Function to grant access and display the carousel
        function grantAccess() {
            codeInputContainer.classList.add('hidden'); // Hide the input form
            carouselContainer.classList.remove('hidden'); // Show the carousel

            // Force reflow or re-render if necessary (though usually not needed)
            carouselSlides.forEach(slide => {
                slide.offsetHeight;
            });

            showSlide(0); // Show the first slide
            startAutoPlay(); // Start auto-play
        }

        // Event listener for the submit button
        submitCodeBtn.addEventListener('click', () => {
            // Compare trimmed, lowercase input with the secret code
            if (secretCodeInput.value.trim().toLowerCase() === SECRET_CODE.toLowerCase()) {
                grantAccess();
            } else {
                errorMessage.classList.remove('hidden'); // Show error message
                secretCodeInput.value = ''; // Clear input field
            }
        });

        // Allow pressing Enter key to submit the code
        secretCodeInput.addEventListener('keypress', (event) => {
            if (event.key === 'Enter') {
                submitCodeBtn.click(); // Simulate a click on the submit button
            }
        });

        // Event listeners for carousel navigation buttons (only active after access)
        // These listeners are already correctly attached and will work once buttons are on top
        nextBtn.addEventListener('click', () => {
            clearInterval(slideInterval);
            nextSlide();
            startAutoPlay();
        });

        prevBtn.addEventListener('click', () => {
            clearInterval(slideInterval);
            prevSlide();
            startAutoPlay();
        });

        // Event listeners for dot indicators (only active after access)
        dotIndicators.addEventListener('click', (event) => {
            if (event.target.classList.contains('dot')) {
                clearInterval(slideInterval);
                const index = parseInt(event.target.dataset.slideIndex);
                showSlide(index);
                startAutoPlay();
            }
        });

        // Initialize: No auto-play or carousel display until code is entered
        document.addEventListener('DOMContentLoaded', () => {
            // The carouselContainer is already hidden by default in HTML
            // No need to call showSlide(0) or startAutoPlay() here, as access is restricted
        });
    </script>
</body>
</html>
